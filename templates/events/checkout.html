{% extends "base.html" %}
{% load static %}

{% block title %}Checkout - {{ event.name }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 min-h-screen flex items-center justify-center">
    <div class="bg-card text-card-foreground rounded-lg shadow-lg p-8 max-w-md w-full animate-fade-in-up">
        <h1 class="text-3xl font-bold text-center mb-6 text-primary">Confirm Your Purchase</h1>

        <div class="mb-6 border-b border-border pb-4">
            <h2 class="text-xl font-semibold text-foreground mb-2">{{ event.name }}</h2>
            <p class="text-muted-foreground mb-1">Date: {{ event.date|date:"F d, Y" }}</p>
            <p class="text-muted-foreground mb-1">Time: {{ event.time|time:"h:i A" }}</p>
            <p class="text-muted-foreground mb-1">Location: {{ event.location }}</p>
            <p class="text-lg font-bold text-primary mt-3">Price: BDT {{ event.ticket_price }}</p>
        </div>

        <p class="text-center text-muted-foreground mb-6">
            You are about to purchase a ticket for "{{ event.name }}".
            Click "Proceed to Payment" to complete your purchase securely via SSLCommerz.
        </p>

        <form action="{% url 'initiate_payment' event.pk %}" method="post" class="text-center">
            {% csrf_token %}
            <button type="submit"
                    class="btn btn-primary w-full py-3 text-lg font-semibold transition-all duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-xl">
                Proceed to Payment
            </button>
        </form>

        <div class="mt-4 text-center">
            <a href="{% url 'event_detail' event.pk %}" class="text-sm text-muted-foreground hover:text-primary-foreground transition-colors duration-200">
                Cancel and go back to event details
            </a>
        </div>
    </div>
</div>
{% endblock %}